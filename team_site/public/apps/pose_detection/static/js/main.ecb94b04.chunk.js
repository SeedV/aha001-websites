(this.webpackJsonpposeplayer=this.webpackJsonpposeplayer||[]).push([[0],{241:function(e,t,n){},243:function(e,t,n){},248:function(e,t){},249:function(e,t){},257:function(e,t){},262:function(e,t,n){"use strict";n.r(t);var r=n(45),a=n.n(r),c=n(198),o=n.n(c),i=(n(241),n(31)),u=n(7),s=n.n(u),l=n(11),f=n(10),p=(n(243),n(98)),d=n(219),h=n.n(d),b=n(46);var v=function(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(null),o=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(0),v=Object(r.useRef)(null),j="BlazePose",y={type:"full",scoreThreshold:.65},x={position:"absolute",top:0,left:0,right:0,zIndex:9},O=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mediapipe"!==(t="mediapipe-gpu".split("-")[0])){e.next=5;break}return e.abrupt("return",p.a(j,{runtime:t,modelType:y.type,solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/pose"}));case 5:if("tfjs"!==t){e.next=7;break}return e.abrupt("return",p.a(j,{runtime:t,modelType:y.type}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,t();case 3:v.current=e.sent,m();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function e(){"undefined"!==typeof v.current&&null!==v.current&&g(v.current),d.current=requestAnimationFrame(e)},g=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a,o,l,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.current,e.next=3,t.estimatePoses(n,{maxPoses:y.maxPoses,flipHorizontal:!0});case 3:if("undefined"!==typeof(r=e.sent)&&null!==r&&0!==r.length){e.next=6;break}return e.abrupt("return");case 6:(a=u.current.getContext("2d")).clearRect(0,0,n.videoWidth,n.videoHeight),o=Object(i.a)(r);try{for(o.s();!(l=o.n()).done;)f=l.value,k(f,a)}catch(s){o.e(s)}finally{o.f()}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t){var n=e.keypoints;w(n,t),R(n,t)},w=function(e,t){var n,r=p.b.getKeypointIndexBySide(j),a=Object(i.a)(r.middle);try{for(a.s();!(n=a.n()).done;){var c=n.value;P(e[c],"yellow",t)}}catch(h){a.e(h)}finally{a.f()}var o,u=Object(i.a)(r.left);try{for(u.s();!(o=u.n()).done;){var s=o.value;P(e[s],"lime",t)}}catch(h){u.e(h)}finally{u.f()}var l,f=Object(i.a)(r.right);try{for(f.s();!(l=f.n()).done;){var d=l.value;P(e[d],"red",t)}}catch(h){f.e(h)}finally{f.f()}},P=function(e,t,n){(null!=e.score?e.score:1)>=(y.scoreThreshold||0)&&(n.beginPath(),n.arc(e.x,e.y,5,0,2*Math.PI),n.fillStyle=t,n.fill())},R=function(e,t){t.fillStyle="White",t.strokeStyle="White",t.lineWidth=3,p.b.getAdjacentPairs(j).forEach((function(n){var r=Object(f.a)(n,2),a=r[0],c=r[1],o=e[a],i=e[c],u=null!=o.score?o.score:1,s=null!=i.score?i.score:1,l=y.scoreThreshold||0;u>=l&&s>=l&&(t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(i.x,i.y),t.stroke())}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("input",{type:"file",onChange:function(e){a(e.target.files[0])},accept:"video/*"}),Object(b.jsx)("button",{onClick:function(){var e=URL.createObjectURL(n);o.current.src=e,c.current.load()},children:"Upload"}),Object(b.jsx)("video",{ref:c,autoPlay:!0,onLoadedData:function(){var e=c.current,t=u.current;t.width=e.videoWidth,t.height=e.videoHeight;var n=t.getContext("2d");n.translate(e.videoWidth,0),n.scale(-1,1),O()},style:x,children:Object(b.jsx)("source",{ref:o,type:"video/mp4"})}),Object(b.jsx)("canvas",{ref:u,style:x}),Object(b.jsx)(h.a,{})]})};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.ecb94b04.chunk.js.map