(this.webpackJsonpposeplayer=this.webpackJsonpposeplayer||[]).push([[0],{240:function(e,t,n){},242:function(e,t,n){},247:function(e,t){},248:function(e,t){},256:function(e,t){},258:function(e,t,n){"use strict";n.r(t);var r=n(46),a=n.n(r),c=n(198),o=n.n(c),i=(n(240),n(31)),u=n(7),s=n.n(u),l=n(11),f=n(10),p=(n(242),n(98)),d=n(48);var h=function(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(null),o=Object(r.useRef)(null),u=Object(r.useRef)(null),h=Object(r.useRef)(0),v=Object(r.useRef)(null),b="BlazePose",y={type:"full",scoreThreshold:.65},j={position:"absolute",top:0,left:0,right:0,zIndex:9},x=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mediapipe"!==(t="mediapipe-gpu".split("-")[0])){e.next=5;break}return e.abrupt("return",p.a(b,{runtime:t,modelType:y.type,solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/pose"}));case 5:if("tfjs"!==t){e.next=7;break}return e.abrupt("return",p.a(b,{runtime:t,modelType:y.type}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,t();case 3:v.current=e.sent,O();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function e(){"undefined"!==typeof v.current&&null!==v.current&&m(v.current),h.current=requestAnimationFrame(e)},m=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a,o,l,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.current,e.next=3,t.estimatePoses(n,{maxPoses:y.maxPoses,flipHorizontal:!0});case 3:if("undefined"!==typeof(r=e.sent)&&null!==r&&0!==r.length){e.next=6;break}return e.abrupt("return");case 6:(a=u.current.getContext("2d")).clearRect(0,0,n.videoWidth,n.videoHeight),o=Object(i.a)(r);try{for(o.s();!(l=o.n()).done;)f=l.value,g(f,a)}catch(s){o.e(s)}finally{o.f()}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){var n=e.keypoints;k(n,t),P(n,t)},k=function(e,t){var n,r=p.b.getKeypointIndexBySide(b),a=Object(i.a)(r.middle);try{for(a.s();!(n=a.n()).done;){var c=n.value;w(e[c],"yellow",t)}}catch(h){a.e(h)}finally{a.f()}var o,u=Object(i.a)(r.left);try{for(u.s();!(o=u.n()).done;){var s=o.value;w(e[s],"lime",t)}}catch(h){u.e(h)}finally{u.f()}var l,f=Object(i.a)(r.right);try{for(f.s();!(l=f.n()).done;){var d=l.value;w(e[d],"red",t)}}catch(h){f.e(h)}finally{f.f()}},w=function(e,t,n){(null!=e.score?e.score:1)>=(y.scoreThreshold||0)&&(n.beginPath(),n.arc(e.x,e.y,5,0,2*Math.PI),n.fillStyle=t,n.fill())},P=function(e,t){t.fillStyle="White",t.strokeStyle="White",t.lineWidth=3,p.b.getAdjacentPairs(b).forEach((function(n){var r=Object(f.a)(n,2),a=r[0],c=r[1],o=e[a],i=e[c],u=null!=o.score?o.score:1,s=null!=i.score?i.score:1,l=y.scoreThreshold||0;u>=l&&s>=l&&(t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(i.x,i.y),t.stroke())}))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("input",{type:"file",onChange:function(e){a(e.target.files[0])},accept:"video/*"}),Object(d.jsx)("button",{onClick:function(){var e=URL.createObjectURL(n);o.current.src=e,c.current.load()},children:"Upload"}),Object(d.jsx)("video",{ref:c,autoPlay:!0,onLoadedData:function(){var e=c.current;u.current.width=e.videoWidth,u.current.height=e.videoHeight;var t=u.current.getContext("2d");t.translate(e.videoWidth,0),t.scale(-1,1),x()},style:j,children:Object(d.jsx)("source",{ref:o,type:"video/mp4"})}),Object(d.jsx)("canvas",{ref:u,style:j})]})};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.3d5348b5.chunk.js.map